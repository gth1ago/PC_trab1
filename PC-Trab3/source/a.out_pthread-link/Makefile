# Makefile generated by upcc, the Berkeley UPC compiler.
# The files in this directory were created to link the executable 
#   'a.out'.  
#
# You may delete this directory at any time, but keeping it may speed 
# up building the application again.
#
# Why this is here:  under pthreads, all UPC .o files are really still C source
# files.  At link time we must create a single large 'struct' that contains all
# the thread-local variables in the application, and ensure that 'real' .o
# files have been compiled with that struct definition.  We use this directory
# and Makefile to avoid recompiling every source file each time you link:
# recompiling all files is only required if the struct has changed (i.e. you
# have added, removed, or changed an unshared global/static variable in your
# application).

OBJS    = polybench_obj.o fdtd-2d_obj.o

.SUFFIXES: .c .o


all_objs: $(OBJS)

# sort by alignment, then eliminate duplicate tentative entries with same
# size/alignment.  Other duplicate names will cause linker error (good)
global.tld:  polybench_obj.tld fdtd-2d_obj.tld
	cat 'polybench_obj.tld' 'fdtd-2d_obj.tld' | sort -u -k 3,3rn -k 1,1 >global.tld
	echo '/* this comment avoids empty file warnings */' >>global.tld

polybench_obj.o: polybench_obj.c global.tld
	/usr/bin/gmake --no-print-directory -f /usr/local/berkeley_upc/opt/include/upcc.mak UPCR_HOME=/usr/local/berkeley_upc/opt \
	EXTRA_CFLAGS="-D_GNU_SOURCE=1 "    \
	EXTRA_CPPFLAGS="-D__BERKELEY_UPC_RUNTIME__=1 -D__BERKELEY_UPC_RUNTIME_RELEASE__=2021 -D__BERKELEY_UPC_RUNTIME_RELEASE_MINOR__=4 -D__BERKELEY_UPC_RUNTIME_RELEASE_PATCHLEVEL__=0 -D__BERKELEY_UPC_SMP_CONDUIT__=1 -DEXTRALARGE_DATASET -I/home/gth1ago/Documentos/UEM/4ano/prog_concorrente/PC_trab1/PC-Trab3/source/polybench-c-4.2.1-beta/utilities -I/home/gth1ago/Documentos/UEM/4ano/prog_concorrente/PC_trab1/PC-Trab3/source/prallel -D__UPC_ATOMIC__=1 -D__UPC_PUPC__=1 -D__UPC_IO__=2 -D__UPC_TICK__=1 -D__UPC_CASTABLE__=1 -D__UPC_NB__=1 -D__BERKELEY_UPC_PSHM__=1 -D__BERKELEY_UPC_PTHREADS__=1 -D__BERKELEY_UPC__=2021 -D__BERKELEY_UPC_MINOR__=4 -D__BERKELEY_UPC_PATCHLEVEL__=0 -DUPC_MAX_BLOCK_SIZE=1048576 -D__UPC__=1 -D__UPC_VERSION__=201311L -D__UPC_DYNAMIC_THREADS__=1 -DUPCRI_USING_TLD -I'polybench-c-4.2.1-beta/utilities' -I'/home/gth1ago/Documentos/UEM/4ano/prog_concorrente/PC_trab1/PC-Trab3/source/a.out_pthread-link'" \
	UPCR_CONDUIT=smp UPCR_PARSEQ=par '$@'

fdtd-2d_obj.o: fdtd-2d_obj.c global.tld
	/usr/bin/gmake --no-print-directory -f /usr/local/berkeley_upc/opt/include/upcc.mak UPCR_HOME=/usr/local/berkeley_upc/opt \
	EXTRA_CFLAGS="-D_GNU_SOURCE=1 "    \
	EXTRA_CPPFLAGS="-D__BERKELEY_UPC_RUNTIME__=1 -D__BERKELEY_UPC_RUNTIME_RELEASE__=2021 -D__BERKELEY_UPC_RUNTIME_RELEASE_MINOR__=4 -D__BERKELEY_UPC_RUNTIME_RELEASE_PATCHLEVEL__=0 -D__BERKELEY_UPC_SMP_CONDUIT__=1 -DEXTRALARGE_DATASET -I/home/gth1ago/Documentos/UEM/4ano/prog_concorrente/PC_trab1/PC-Trab3/source/polybench-c-4.2.1-beta/utilities -I/home/gth1ago/Documentos/UEM/4ano/prog_concorrente/PC_trab1/PC-Trab3/source/prallel -D__UPC_ATOMIC__=1 -D__UPC_PUPC__=1 -D__UPC_IO__=2 -D__UPC_TICK__=1 -D__UPC_CASTABLE__=1 -D__UPC_NB__=1 -D__BERKELEY_UPC_PSHM__=1 -D__BERKELEY_UPC_PTHREADS__=1 -D__BERKELEY_UPC__=2021 -D__BERKELEY_UPC_MINOR__=4 -D__BERKELEY_UPC_PATCHLEVEL__=0 -DUPC_MAX_BLOCK_SIZE=1048576 -D__UPC__=1 -D__UPC_VERSION__=201311L -D__UPC_DYNAMIC_THREADS__=1 -DUPCRI_USING_TLD -I'polybench-c-4.2.1-beta/stencils/fdtd-2d' -I'/home/gth1ago/Documentos/UEM/4ano/prog_concorrente/PC_trab1/PC-Trab3/source/a.out_pthread-link'" \
	UPCR_CONDUIT=smp UPCR_PARSEQ=par '$@'

